{% extends "base.html" %}

{% block title %}Criar Conta{% endblock %}

{% block content %}
    <h2 class="headline-large" style="margin-top: 0; margin-bottom: 24px; color: var(--md-sys-color-primary);">Criar Conta</h2>
    <p class="body-large" style="margin-bottom: 32px; color: var(--md-sys-color-on-surface-variant);">Preencha os dados para começar</p>

    <form action="/register" method="POST">
        
        <!-- Nome Completo -->
        <div class="md-text-field">
            <input type="text" name="name" id="name" placeholder=" " required>
            <label for="name">Nome Completo</label>
        </div>

        <!-- Nome de Usuário -->
        <div class="md-text-field">
            <input type="text" name="username" id="username" placeholder=" " required>
            <label for="username">Nome de Usuário</label>
        </div>

        <!-- Email -->
        <div class="md-text-field">
            <input type="email" name="email" id="email" placeholder=" " required>
            <label for="email">E-mail</label>
        </div>

        <!-- Senha -->
        <div class="md-text-field" style="margin-bottom: 8px;">
            <input type="password" name="password" id="password" placeholder=" " required>
            <label for="password">Senha</label>
        </div>

        <!-- Password Strength Meter -->
        <div class="password-requirements">
            <div class="req-chip" id="req-length"><i class="material-icons-outlined">close</i> 6+ Caracteres</div>
            <div class="req-chip" id="req-lower"><i class="material-icons-outlined">close</i> Minúscula</div>
            <div class="req-chip" id="req-upper"><i class="material-icons-outlined">close</i> Maiúscula</div>
            <div class="req-chip" id="req-number"><i class="material-icons-outlined">close</i> Número</div>
            <div class="req-chip" id="req-special"><i class="material-icons-outlined">close</i> Símbolo</div>
        </div>

        <div class="password-strength-container">
            <div class="strength-bars">
                <div class="strength-bar" id="bar-1"></div>
                <div class="strength-bar" id="bar-2"></div>
                <div class="strength-bar" id="bar-3"></div>
                <div class="strength-bar" id="bar-4"></div>
            </div>
            <div class="strength-text" id="strength-text"></div>
        </div>

        <!-- Tipo de Usuário -->
        <div class="md-text-field">
            <select name="user_type" id="user_type" required>
                <option value="" disabled selected></option>
                <option value="patient">Paciente</option>
                <option value="health_agent">Agente Comunitário de Saúde (ACS)</option>
            </select>
            <label for="user_type">Tipo de Usuário</label>
        </div>

        <button type="submit" class="md-button filled">
            Cadastrar
        </button>
    </form>

    <div style="text-align: center; margin-top: 24px;">
        <a href="/login" class="md-button text">Já tenho uma conta</a>
    </div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/password_meter.js') }}"></script>
{% endblock %}
